<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electric Geyser Installation Report</title>
    <link rel="stylesheet" href="pwa/style.css">
    <style>
        th.col-num {
            width: 24px !important;
            max-width: 24px !important;
            min-width: 20px !important;
            text-align: center;
        }
        
        
        /* Make columns fit content and keep checkbox columns narrow */
        table {
            table-layout: auto;
        }
        th, td {
            max-width: 180px;
            overflow-wrap: break-word;
        }
        .checkbox {
            width: 36px;
            max-width: 40px;
            text-align: center;
        }
        input[type="text"], input[type="date"] {
            width: 100%;
            max-width: 120px;
            min-width: 60px;
            box-sizing: border-box;
        }
        /* Allow wrapping for the first header row only */
        .no-nowrap th, .no-nowrap td {
            white-space: normal !important;
        }
        body {
            font-family: Arial, sans-serif;
            font-size: 14px;
            margin: 0;
            padding: 0;
            width: 100%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
            overflow-x: auto;
        }

        input[type="text"],
        input[type="date"],
        input[type="checkbox"],
        textarea {
            font-family: inherit;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 100%;
            table-layout: auto;
            font-size: 12px;
        }

        /* Make first row columns fit content */
        .header-fit th {
            width: 110px;
            font-weight: normal;
        }
        .header-fit th:first-child {
            width: 40px;
        }
        .header-fit th:last-child {
            width: 140px;
        }

        input[type="text"], input[type="date"] {
            width: 90px;
            min-width: 60px;
            max-width: 100%;
            box-sizing: border-box;
        }


        th,
        td {
            border: 1px solid black;
            padding: 2px 4px;
            text-align: left;
            white-space: nowrap;
        }

        @page {
            width: A4;
            margin: 10mm;
        }

        /* Print Styles */
                @media print {
                    body {
                        width: 210mm;
                        max-width: 210mm;
                        margin: 10mm 0mm 10mm 0mm !important;
                        box-sizing: border-box;
                        padding-left: 0 !important;
                        padding-right: 0 !important;
                    }
                    .logo {
                        margin-bottom: 0 !important;
                    }
                    h2, p {
                        margin-top: 2mm !important;
                        margin-bottom: 2mm !important;
                    }
                    table {
                        width: 100%;
                        max-width: 190mm;
                        margin-top: 2mm !important;
                        margin-left: 0 !important;
                        margin-right: auto !important;
                        padding-left: 0 !important;
                        padding-right: 0 !important;
                    }
                    .no-print { display: none !important; }
                }
        @media (max-width: 600px) {
        
        }

        .logo {
            text-align: center;
            margin-bottom: 5px;
        }

        .logo img {
            max-width: 100px;
            height: 20px;
        }

        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        .wrapper-main {
            width: 100%;
            padding: 100px 0;
            margin: 0 auto;
        }
    /* ...existing code... */
        /* --- Place this at the end of the <style> block for highest priority --- */
        td.narrow {
            width: 30px !important;
            max-width: 30px !important;
            min-width: 30px !important;
            padding-left: 2px;
            padding-right: 2px;
            text-align: center !important;
        }
        td.narrow input[type="checkbox"] {
            display: block;
            margin: 0 auto;
        }
        @media (max-width: 700px) {
            body {
                font-size: 15px;
                margin: 4px;
                padding: 0 2vw;
            }
            table {
                width: 100%;
                font-size: 13px;
                display: block;
                overflow-x: auto;
            }
            th, td {
                font-size: 13px;
                padding: 6px 4px;
                white-space: pre-line;
            }
            input[type="text"], input[type="date"], textarea {
                font-size: 14px;
                width: 98%;
            }
            .logo img {
                max-width: 120px;
            }
        }
    </style>
</head>

<body>
    <div class="logo">
        <img src="images/digicall-logo.png" alt="Digicall Logo">
        <P>FOGI PLUMBING SOLUTIONS</P>
    </div>

    <h2>Electric Geyser Installation Report (E3)</h2>
    <p><strong>Revision: 21/09/2023</strong></p>

    <table>
        <tr>
            <th class="col-num">1</th>
            <th>Date: <input type="date" name="date" title="Select date"></th>
            <th>Ord No: <input type="text" name="order_no" placeholder="Order Number" title="Order Number"></th>
            <th>Claim No: <input type="text" name="claim_no" placeholder="Claim Number" title="Claim Number"></th>
            <th colspan="2">Claim Name: <input type="text" name="claim_name" placeholder="Claim Name" title="Claim Name"></th>
        </tr>
  
    <tr>
        <th class="col-num">2</th>
        <th colspan="5">Remark on the following (tick where applicable)</th>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Is the outlet socket corroded on the geyser?</td>
            <td class="checkbox"><label><input type="checkbox" title="Yes"> Yes</label></td>
            <td class="checkbox"><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Did atmospheric temperature drop below 5Â°C prior to failure?</td>
            <td class="checkbox"><label><input type="checkbox" title="Yes"> Yes</label></td> <td class="checkbox"><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">What type of piping on cold water supply to old geyser?</td>
            <td><label><input type="checkbox" title="Copper"> Copper</label></td> <td><label><input type="checkbox" title="Galvanised"> Galvanised</label></td> <td><label><input type="checkbox" title="Poly"> Poly</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">What type of piping on hot water supply to old geyser?</td>
            <td><label><input type="checkbox" title="Copper"> Copper</label></td> <td><label><input type="checkbox" title="Galvanised"> Galvanised</label></td> <td><label><input type="checkbox" title="Poly"> Poly</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">What is the condition of roof covering?</td>
            <td><label><input type="checkbox" title="Good"> Good</label></td> <td><label><input type="checkbox" title="Fair"> Fair</label></td> <td><label><input type="checkbox" title="Poor"> Poor</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">What is the condition of the electrics?</td>
            <td><label><input type="checkbox" title="Good"> Good</label></td> <td><label><input type="checkbox" title="Fair"> Fair</label></td> <td><label><input type="checkbox" title="Poor"> Poor</label></td>
        </tr>
        <tr>
            <td></td>   
            <td colspan="2">What is the condition of the piping?</td>
            <td><label><input type="checkbox" title="Good"> Good</label></td> <td><label><input type="checkbox" title="Fair"> Fair</label></td> <td><label><input type="checkbox" title="Poor"> Poor</label></td>
        </tr>
    

    <tr> 
        <th class="col-num">3</th>
        <th colspan="5">Valves and Testing (tick where applicable)</th> </tr>

        <tr>
            <td></td>
            <td colspan="2">What was the exact pressure reading on old valve:</td>
            <td colspan="3"><input type="text" name="pressure_reading" placeholder="Pressure Reading" title="Pressure Reading"> kPa</td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Is the system balanced?</td>
            <td class="balanced"><label><input type="checkbox" title="Balanced"> Balanced</label></td> <td><label><input type="checkbox" title="Unbalanced"> Unbalanced</label></td>
        </tr>
        <tr>
            <td></td>   
            <td colspan="3">Is a shower, dual appliance or mixer installed?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td> <td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Was there dirt in the PRV after removing it?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td> <td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Was there rust evident while draining geyser?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td> <td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
    <tr>
        <th class="col-num">4</th>
    <th colspan="5">Geysers and System Details (please tick where applicable)</th>
        <tr>
            <td></td>
            <th colspan="2">Details</th>
            <th>Old Installation</th>
            <th colspan="2">New Installation</th>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Manufacturer & Brand</td>
            <td><input type="text" placeholder="Manufacturer & Brand" title="Manufacturer & Brand"></td>
            <td colspan="2"><input type="text" placeholder="Manufacturer & Brand" title="Manufacturer & Brand"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Geyser Code and Serial Number</td>
            <td>Cod: <input type="text" placeholder="Code" title="Code"> Seri: <input type="text" placeholder="Serial" title="Serial"></td>
            <td colspan="2">Cod: <input type="text" placeholder="Code" title="Code"> Seri: <input type="text" placeholder="Serial" title="Serial"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Floor/manufacture date (if applicable):</td>
            <td><input type="text" placeholder="Floor/manufacture date" title="Floor/manufacture date"> </td>
            <td colspan="2"><input type="text" placeholder="Floor/manufacture date" title="Floor/manufacture date"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Size/Capacity (Litres)</td>
            <td>
                <span class="narrow"><label>50 <input type="checkbox" title="50L"></label></span>
                <span class="narrow"><label>100 <input type="checkbox" title="100L"></label></span>
                <span class="narrow"><label>150 <input type="checkbox" title="150L"></label></span>
                <span class="narrow"><label>200 <input type="checkbox" title="200L"></label></span>
                <span class="narrow"><label>250 <input type="checkbox" title="250L"></label></span>
                <span class="narrow"><label>Other <input type="checkbox" title="Other"></label></span>
            </td>
            <td colspan="2">
                <span class="narrow"><label>50 <input type="checkbox" title="50L"></label></span>
                <span class="narrow"><label>100 <input type="checkbox" title="100L"></label></span>
                <span class="narrow"><label>150 <input type="checkbox" title="150L"></label></span>
                <span class="narrow"><label>200 <input type="checkbox" title="200L"></label></span>
                <span class="narrow"><label>250 <input type="checkbox" title="250L"></label></span>
                <span class="narrow"><label>Other <input type="checkbox" title="Other"></label></span>
            </td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Boiler Details</td>
            <td><label><input type="checkbox" title="Copper"> Copper</label><label><input type="checkbox" title="Steel"> Steel</label><label><input type="checkbox" title="Composite"> Composite</label></td>
            <td colspan="2"><label><input type="checkbox" title="Copper"> Copper</label><label><input type="checkbox" title="Steel"> Steel</label><label><input type="checkbox" title="Composite"> Composite</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Pressure Reducing Valve (PRV) make</td>
            <td><input type="text" placeholder="PRV Make" title="PRV Make"> </td>
            <td colspan="2"><input type="text" placeholder="PRV Make" title="PRV Make"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">PRV Rating</td>
            <td><label><input type="checkbox" title="100"> 100</label><label><input type="checkbox" title="200"> 200</label><label><input type="checkbox" title="400"> 400</label><label><input type="checkbox" title="600"> 600</label><label><input type="checkbox" title="Gravity"> Gravity</label></td>
            <td colspan="2"><label><input type="checkbox" title="100"> 100</label><label><input type="checkbox" title="200"> 200</label><label><input type="checkbox" title="400"> 400</label><label><input type="checkbox" title="600"> 600</label><label><input type="checkbox" title="Gravity"> Gravity</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Was a Non-Return Valve installed</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label><label><input type="checkbox" title="No"> No</label></td>
            <td colspan="2"><label><input type="checkbox" title="Yes"> Yes</label><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Drip Tray Type</td>
            <td><label><input type="checkbox" title="Galvanised"> Galvanised</label><label><input type="checkbox" title="Poly"> Poly</label><label><input type="checkbox" title="None"> None</label></td>
            <td colspan="2"><label><input type="checkbox" title="Galvanised"> Galvanised</label><label><input type="checkbox" title="Poly"> Poly</label><label><input type="checkbox" title="None"> None</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Did you install a NEW drip tray?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label><label><input type="checkbox" title="No"> No</label></td>
            <td colspan="2"><label><input type="checkbox" title="Yes"> Yes</label><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">If no, why was drip tray not replaced?</td>
            <td colspan="3"><input type="text" placeholder="If no, why was drip tray not replaced?" title="If no, why was drip tray not replaced?"></td>
        <tr>
            <td></td>
            <td colspan="3">specify exact position of new Geyser (e.g., above passage ceiling)</td>
            <td colspan="2"><input type="text" placeholder="Specify position of new geyser" title="Specify position of new geyser"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Did you move the geyser to another position?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Is the building being used for residential,business, or commercial purpose?</td>

            <td><label><input type="checkbox" title="Residential"> Residential</label></td> <td><label><input type="checkbox" title="Business/Commercial"> Business/Commercial</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Is there a shut off/ non return valve/ isolating device between the geyser and PRV?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td>Is the geyser connected to another device?</td>
            <td><label><input type="checkbox" title="Solar"> Solar</label><label><input type="checkbox" title="Heat Pump"> Heat Pump</label></td><td><label><input type="checkbox" title="In Parallel"> In Parallel</label><label><input type="checkbox" title="In Series"> In Series</label></td><td><label><input type="checkbox" title="Other Device"> Other Device</label></td><td><label><input type="checkbox" title="No"> No</label></td></tr>
        </tr>

    <tr>
        <th class="col-num">5</th><th colspan="5">Old Geyser Details (please tick where applicable)</th>
    <tr>
        <td></td>
        <td colspan="2">Where is the old geyser?</td>
        <td> <label><input type="checkbox" title="In roof space"> In roof space</label></td><td><label><input type="checkbox" title="On site"> On site</label></td><td><label><input type="checkbox" title="Off site"> Off site</label></td>
            </td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">If "in roof space"or "on site" why not removed?</td>
            <td>
                <label><input type="checkbox" title="Client refuses to release"> Client refuses to release</label></td><td colspan="2"><label><input type="checkbox" title="Not economically viable to remove"> Not economically viable to remove</label>
            </td>
        </tr>
        <tr>
            <td></td>
            <td colspan="4">How many geysers on property?</td>
            <td><textarea rows="1" cols="1" placeholder="How many geysers on property?" title="How many geysers on property?"></textarea></td>
        </tr>

        <tr>
            <td></td>
            <td colspan="2">Reason for failure of old geyser?</td>
            <td colspan="3"><textarea rows="2" cols="60" placeholder="Reason for failure of old geyser?" title="Reason for failure of old geyser?"></textarea></td>

    <tr>
        <th class="col-num">6</th>
        <th colspan="5">Additional Notes (Resultant damage/Installation Damage, Non-Compliance to SANS 10254,etc.)-tick where
        applicable:</th>
    </tr>
        <tr>
            <td></td>
            <td colspan="2">Resultant damage due to failure</td>
            <td colspan="3">
                <label><input type="checkbox" title="No damage"> No damage</label><label><input type="checkbox" title="Resultant Damage"> Resultant Damage</label> <label><input type="checkbox" title="Carpet Damage"> Carpet Damage</label> <label><input type="checkbox" title="Res & Carpet damage"> Res & Carpet damage</label>
            </td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">Location of damage noted?</td>
            <td colspan="3"><textarea rows="1" cols="60" placeholder="Location of damage noted?" title="Location of damage noted?"></textarea></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Accidental damage by contractor?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Is isolator switch installed?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Client paid for upgrade/downgrade?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">Installation conforms to SANS 10254?</td>
            <td><label><input type="checkbox" title="Yes"> Yes</label></td><td><label><input type="checkbox" title="No"> No</label></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="2">If No, reason:</td>
            <td>
                <label><input type="checkbox" title="Cannot relocate"> Cannot relocate</label></td><td><label><input type="checkbox" title="Client refuses to relocate"> Client refuses to relocate</label></td><td><label><input type="checkbox" title="Rational Design / Non-SANS"> Rational Design / Non-SANS</label>
            </td>
        </tr>
        <tr>
            <td></td>
            <td>Other Comments:</td>
            <td colspan="4"><textarea rows="2" cols="80" placeholder="Other Comments" title="Other Comments"></textarea></td>
        </tr>
    </table>
<div class="buttons">
      <button type="button" onclick="window.print()">Print / Save as PDF</button>
      <button type="button" onclick="saveGeyserForm()">Save</button>
    </div>
    <script>
    function saveGeyserForm() {
      const data = {};
      document.querySelectorAll('input, textarea, select').forEach(el => {
        if (el.type === 'checkbox') {
          data[el.name || el.id] = el.checked;
        } else {
          data[el.name || el.id] = el.value;
        }
      });
      const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'geyser_form_data.json';
      a.click();
      URL.revokeObjectURL(a.href);
    }
    </script>
</body>

</html>