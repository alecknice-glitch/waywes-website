<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WayWes - Plumbing Reports</title>
  <link rel="manifest" href="pwa/manifest.json">
  <!-- The theme-color meta tag is supported by Chrome, Edge, and some browsers, but not Firefox or Opera. It is safe to leave it for PWA and mobile experience. -->
  <meta name="theme-color" content="#1976d2">
  <link rel="apple-touch-icon" href="images/waywes-icon.png">
  <style>
    /* Login overlay styles */
    #login-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(120deg, #e3f0ff 0%, #f7f7f7 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeInBg 0.7s;
    }
    @keyframes fadeInBg {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    #login-box {
      background: #fff;
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(25,118,210,0.13), 0 2px 8px rgba(0,0,0,0.08);
      padding: 48px 40px 36px 40px;
      min-width: 340px;
      text-align: center;
      border: 2px solid #1976d2;
      position: relative;
      animation: popIn 0.7s cubic-bezier(.23,1.12,.62,1.01);
    }
    @keyframes popIn {
      0% { transform: scale(0.92) translateY(30px); opacity: 0; }
      100% { transform: scale(1) translateY(0); opacity: 1; }
    }
    #login-logo {
      display: block;
      margin: 0 auto 24px auto;
      max-width: 180px;
      max-height: 90px;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(25,118,210,0.13);
      background: #fff;
      border: 2.5px solid #1976d2;
      padding: 8px 16px;
      object-fit: contain;
    }
    #login-box h2 {
      margin-bottom: 24px;
      color: #1976d2;
      font-size: 1.7em;
      letter-spacing: 1px;
      font-weight: 700;
    }
    #login-box input {
      width: 92%;
      margin: 12px 0;
      padding: 12px 14px;
      font-size: 1.12em;
      border-radius: 8px;
      border: 1.5px solid #b3c6e0;
      background: #f7faff;
      transition: border 0.2s;
    }
    #login-box input:focus {
      border: 1.5px solid #1976d2;
      outline: none;
      background: #eaf3ff;
    }
    #login-box button {
      margin-top: 18px;
      padding: 10px 32px;
      font-size: 1.08em;
      border-radius: 8px;
      border: 1.5px solid #1976d2;
      background: linear-gradient(90deg, #1976d2 60%, #2196f3 100%);
      color: #fff;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.5px;
      box-shadow: 0 1.5px 6px rgba(25,118,210,0.08);
      transition: background 0.2s, box-shadow 0.2s;
    }
    #login-box button:hover {
      background: linear-gradient(90deg, #145ea8 60%, #1976d2 100%);
      box-shadow: 0 3px 12px rgba(25,118,210,0.13);
    }
    #login-error {
      color: #c00;
      font-size: 1em;
      margin-top: 12px;
      min-height: 1.2em;
      font-weight: 500;
      letter-spacing: 0.2px;
    }
    body {
      font-family: 'Segoe UI', 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #e3f0ff 0%, #f7f7f7 100%);
    }
    .nav-cards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 32px;
      margin: 40px 0 32px 0;
      padding: 32px 0 0 0;
      background: rgba(255,255,255,0.85);
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(25,118,210,0.10), 0 2px 8px rgba(0,0,0,0.06);
    }
    .nav-cards.print-hide {
      display: none;
    }
    .nav-card {
      background: linear-gradient(135deg, #f7faff 60%, #e3f0ff 100%);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(25,118,210,0.18), 0 2px 8px rgba(0,0,0,0.10);
      padding: 32px 40px;
      cursor: pointer;
      font-size: 1.18em;
      font-weight: 600;
      letter-spacing: 0.5px;
      min-width: 220px;
      text-align: center;
      border: 2px solid #e0e0e0;
      transform: perspective(600px) translateZ(20px);
      transition: box-shadow 0.2s, transform 0.2s, border-color 0.2s;
      color: #145ea8;
    }
    .nav-card.active, .nav-card:hover {
      border-color: #1976d2;
      box-shadow: 0 16px 48px rgba(25,118,210,0.28), 0 4px 16px rgba(0,0,0,0.16);
      color: #1976d2;
      transform: perspective(600px) translateZ(40px) scale(1.05);
    }
    .nav-card button {
      margin-top: 18px;
      padding: 10px 32px;
      font-size: 1.08em;
      border-radius: 8px;
      border: 1.5px solid #1976d2;
      background: linear-gradient(90deg, #1976d2 60%, #2196f3 100%);
      color: #fff;
      cursor: pointer;
      font-weight: 600;
      letter-spacing: 0.5px;
      box-shadow: 0 1.5px 6px rgba(25,118,210,0.08);
      transition: background 0.2s, box-shadow 0.2s;
    }
    .nav-card button:hover {
      background: linear-gradient(90deg, #145ea8 60%, #1976d2 100%);
      box-shadow: 0 3px 12px rgba(25,118,210,0.13);
    }
    /* Classic dashboard background image styling */
    .dashboard-bg {
      width: 80vw;
      max-width: 900px;
      display: block;
      margin: 32px auto 20px auto;
      border-radius: 18px;
      box-shadow: 0 6px 32px rgba(25,118,210,0.13);
    }
  </style>
</head>
<body>
  <div id="login-overlay">
    <form id="login-box" onsubmit="return loginCheck(event)">
      <img id="login-logo" src="images/waywes plumbing logo.jpeg" alt="WayWes Plumbing Logo">
      <h2>WayWes Plumbing</h2>
      <input type="text" id="login-user" placeholder="Username" autocomplete="username" required><br>
      <input type="password" id="login-pass" placeholder="Password" autocomplete="current-password" required><br>
      <button type="submit">Login</button>
      <div id="login-error"></div>
    </form>
  </div>
  <div class="nav-cards print-hide">
    <div class="nav-card">
      <span>SANS Compliance</span><br>
      <button onclick="window.open('SANS.html', '_self')">Open Form</button>
    </div>
    <div class="nav-card">
      <span>Electric Geyser Report</span><br>
      <button onclick="window.open('fogi eletrical geyser report.html', '_self')">Open Form</button>
    </div>
    <div class="nav-card">
      <span>FOGI Pipe Report</span><br>
      <button onclick="window.open('fogi pipeReport.html', '_self')">Open Form</button>
    </div>
    <div class="nav-card">
      <span>OUTSURANCE Pipe Report</span><br>
      <button onclick="window.open('outsurance pipe report.html', '_self')">Open Form</button>
    </div>
    <div class="nav-card">
      <span>Geyser Code Decoder</span><br>
      <button onclick="window.open('geyser code.html', '_self')">Open Decoder</button>
    </div>
  </div>
  <img src="images/backgroud image.jpg" alt="background" class="dashboard-bg">
</body>
<script>
// Register service worker for PWA
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('pwa/service-worker.js');
  });
}

// Persistent login logic using localStorage
const loginOverlay = document.getElementById('login-overlay');
const cardWindow = document.querySelector('.nav-cards');
const loginError = document.getElementById('login-error');

// On page load, show login only if not already logged in
window.addEventListener('DOMContentLoaded', function() {
  if (localStorage.getItem('waywes_logged_in') === 'true') {
    loginOverlay.style.display = 'none';
    cardWindow.style.display = 'flex';
  } else {
    loginOverlay.style.display = 'flex';
    cardWindow.style.display = 'none';
  }
});

function loginCheck(e) {
  e.preventDefault();
  const user = document.getElementById('login-user').value.trim();
  const pass = document.getElementById('login-pass').value;
  // Demo credentials: user: waywes, pass: 1234
  if (user === 'waywes' && pass === '1234') {
    localStorage.setItem('waywes_logged_in', 'true');
    loginOverlay.style.display = 'none';
    cardWindow.style.display = 'flex';
    loginError.textContent = '';
    // Use history.replaceState to prevent back from logging out
    history.replaceState({loggedIn:true}, '', location.href);
  } else {
    loginError.textContent = 'Invalid username or password.';
  }
  return false;
}

// Optional: Add a logout button for user convenience
// Uncomment below to add a logout button to the card window
/*
const logoutBtn = document.createElement('button');
logoutBtn.textContent = 'Logout';
logoutBtn.style.margin = '16px auto 0 auto';
logoutBtn.style.display = 'block';
logoutBtn.onclick = function() {
  localStorage.removeItem('waywes_logged_in');
  window.location.reload();
};
cardWindow.parentNode.insertBefore(logoutBtn, cardWindow.nextSibling);
*/
</script>
  <!-- No embedded forms, just card window with buttons to open originals -->
</body>
</html>
